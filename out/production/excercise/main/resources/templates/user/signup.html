<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<title>회원가입 페이지</title>
<link rel="stylesheet" th:href="@{/css/signup.css}">
<script th:src="@{/js/dynamicRegions.js}" defer></script>
</head>
<body>

	<div class="container">
		<h2>회원가입</h2>
		<form th:action="@{/user/signup}" th:object="${userDTO}" method="post">
			<div>
				<label for="name">이름</label> <input type="text" id="name"
					th:field="*{name}" maxlength='5' placeholder="홍길동">
				<span th:if="${name_Error}" th:text="${name_Error}" class="error"></span>
			</div>
			<div>
				<label for="birthdate">생년월일</label> <input type="date"
					id="birthdate" th:field="*{birthdate}" >
				<span th:if="${birthdate_Error}" th:text="${birthdate_Error}" class="error"></span>	
			</div>
			<div>
				<label for="phone">전화번호</label> <input type="tel" id="phone"
					th:field="*{phone}"  maxlength='11'
					placeholder="01012345678"> <span th:if="${phone_Error}"
					th:text="${phone_Error}" class="error"></span>
			</div>
			<div>
				<label for="region">지역</label> <select id="region"
					th:field="*{region}" >
					<option value="" selected>지역 선택</option>
					<option value="seoul">서울특별시</option>
					<option value="gyeonggi">경기도</option>
					<!-- 추가 지역 선택지 -->
				</select>
				<span th:if="${region_Error}" th:text="${region_Error}" class="error"></span>
			</div>
			<div>
				<label for="subregion">시/구</label> <select id="subregion"
					th:field="*{subregion}" >
					<option value="">먼저 지역을 선택해주세요</option>
					<!-- 동적으로 변경될 내용 -->
				</select>
				<span th:if="${subregion_Error}" th:text="${subregion_Error}" class="error"></span>
			</div>
			<div>
				<label for="username">아이디</label> <input type="text" id="username"
					th:field="*{username}"  placeholder="xxxxx@naver.com"
					onblur="usernameDuplicate()"> <span
					th:if="${username_Error}" th:text="${username_Error}" class="error"></span><br>
				<span id=username_duplicate></span>
			</div>
			<div>
				<label for="password">비밀번호</label> <input type="password"
					id="password" th:field="*{password}" > <span
					th:if="${password_Error}" th:text="${password_Error}" class="error"></span>
			</div>
			<div>
				<label for="gender">성별</label> <select id="gender"
					th:field="*{gender}" >
					<option value="">성별 선택</option>
					<option value="male">남성</option>
					<option value="female">여성</option>
				</select>
				<span th:if="${gender_Error}" th:text="${gender_Error}" class="error"></span>
			</div>
			<button id="signupButton" type="submit" onclick="signup()">회원가입</button>
		</form>
	</div>
	<script th:src="@{/js/signup.js}"></script>
</body>

</html>
